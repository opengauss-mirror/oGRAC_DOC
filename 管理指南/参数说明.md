# 数据库参数配置说明

## 审计与安全

### AUDIT_LEVEL
**参数说明**: 数据库审计级别，采用位掩码机制，通过将不同操作类型对应的值进行“按位或”运算来组合审计范围，例如设置为 `5` 表示审计 DDL 和 DML 类型      
**取值范围**: [0, 255]  
**可选值**:
- `0`: 关闭审计
- `1`: DDL（数据定义语言）
- `2`: DCL（数据控制语言）
- `4`: DML（数据操作语言）
- `8`: PL（过程语言）
- `255`: ALL（全部类型）  

**默认值**: `3`，安装默认值为0

### ENABLE_SYSDBA_LOGIN
**参数说明**: 设置是否支持SYSDBA免密登录（仅 sys 用户可修改）     
**取值范围**: `FALSE`, `TRUE`  
**默认值**: `TRUE`，修改后重启生效

### ENABLE_ACCESS_DC
**参数说明**: 控制 SELECT ANY TABLE 或 READ ANY TABLE 权限是否可以访问 SYS 对象   
**取值范围**: `FALSE`, `TRUE`  
**默认值**: `TRUE`，安装默认值为FALSE

### REPLACE_PASSWORD_VERIFY
**参数说明**: 普通用户修改自身密码时是否需要旧密码  
**取值范围**: `FALSE`, `TRUE`  
**默认值**: `FALSE`，安装默认值为TRUE

### _SYS_PASSWORD
**参数说明**: SYS 用户密码经不可逆加密缩放加密后的密文 。如有修改需要建议通过alter user修改  
**取值范围**: 字符串，长度最大 1023  
**默认值**: 数据库安装后时输入的 sys 密码加密后的值

## 存储与性能

### PAGE_CHECKSUM
**参数说明**: 是否开启PAGE checksum 校验，略微增加CPU负载，提升数据安全性  
**取值范围**:
- `OFF`: 关闭校验
- `TYPICAL`: PAGE 在内存和磁盘交换时校验
- `FULL`: 相比 TYPICAL，PAGE 在内存修改前也要校验

**默认值**: `TYPICAL`，修改后重启生效


### _AUTO_INDEX_RECYCLE
**参数说明**: 是否后台回收索引空页面，使用共享存储时需要确保所有实例设置一致    
**取值范围**: `ON`, `OFF`  
**默认值**: `ON`

### DEFAULT_EXTENTS
**参数说明**: 默认情况下一个 EXTENT 包含的页数。设置偏小会导致高压力下频繁分配EXTENT，预读场景下性能偏低；设置偏大性能更好但对于小表的空间浪费较明显    
**取值范围**: `8`, `16`, `32`, `64`, `128`  
**默认值**: `8`，安装默认值为128

### TEMP_POOL_NUM
**参数说明**: TEMP_POOL 数量，每个 session 启动时选择一个 TEMP_POOL 分配 vm page      
**取值范围**: [1, 128]  
**默认值**: `1`，安装默认值为8，修改后重启生效

## 事务与锁管理

### CR_MODE
**参数说明**: CR是一致性读的缩写，并发访问时，当前页面可能对当前session不可见，需要利用事务原理构建可见页面，称为一致性读页面。该参数用于设置 表/索引 的MVCC机制  
**取值范围**:  
- `PAGE`: 页级 MVCC  

**默认值**: `PAGE`，修改后重启生效

### CR_POOL_SIZE
**参数说明**: 一致性读页面缓冲区大小，配置较大可以加速并发访问    
**取值范围**: [16M, 32T]，单位为 byte  
**默认值**: `32M`，安装默认值为1G，修改后重启生效  

### CR_POOL_COUNT
**参数说明**: 一致性读页面缓冲区数量，配置较大可以减少不同 session 锁争用      
**取值范围**: [1, 256]  
**默认值**: `1`，安装默认值为32，修改后重启生效

### _PRIVATE_KEY_LOCKS
**参数说明**: 事务结束时每个 session 最多保留的 key 锁数，剩下的key锁释放并归还给全局锁区，开启新事务时复用。   
**取值范围**: [8, 128]  
**默认值**: `8`，安装默认值为128, 修改后重启生效 

### _PRIVATE_ROW_LOCKS
**参数说明**:  事务结束时每个 session 最多保留的 row 锁数，剩下的 row 锁释放并归还给全局锁区，开启新事务时复用。     
**取值范围**: [8, 128]  
**默认值**: `8`，安装默认值为128, 修改后重启生效

### UNDO_RETENTION_TIME
**参数说明**: UNDO 保留时间，保留时间过短可能导致查询报错 "快照太旧"。在满足最大查询的条件下尽量设置的小一些，设置过大会导致UNDO表空间占用变大，高并发场景可能导致databuffer不足，导致CPU占用飙升，需要谨慎评估    
**取值范围**: (0, 4294967295]，单位：秒  
**默认值**: `100`，安装默认值为600  

### _UNDO_SEGMENTS
**参数说明**: UNDO 段数量，决定并发能力以及总事务的数量。只在新建数据库时设置，其他情况不要修改  
**取值范围**: (1, 1024]  
**默认值**: `32`，安装默认值为1024

### _UNDO_ACTIVE_SEGMENTS
**参数说明**: 当前可以使用的、活跃的 UNDO 段数量，设置的值要小于_UNDO_SEGMENTS    
**取值范围**: (1, 1024]  
**默认值**: `32`，安装默认值为64

## 内存管理

### VARIANT_MEMORY_AREA_SIZE
**参数说明**: 存放执行过程小于 16K 的绑定参数的内存区（VMA）大小，内存区一页大小 16K，升级数据库时建议设置为VARIANT_AREA_SIZE * SESSIONS * 0.8, 绑定参数过多且执行频繁时可适当调大    
**取值范围**: [4M, 32T]  
**默认值**: `32M`，安装默认值为2G，修改后重启生效

### _VMP_CACHES_EACH_SESSION
**参数说明**: 每个 session 可缓存 16K 的 VMA 内存页数量。当 VMA 可用内存不足 10% 时不缓存，如果_VMP_CACHES_EACH_SESSION * SESSIONS * 16K远大于VARIANT_MEMORY_AREA_SIZE，可以适当调低    
**取值范围**: [0, 4294967295]  
**默认值**: `50`

### USE_LARGE_PAGES
**参数说明**: SGA 内存中大页使用方式      
**取值范围**:
- `TRUE`: 开启大页，要求系统上配置了大页功能
- `FALSE`: 关闭大页（不建议关闭，可能导致性能严重下降）  

**默认值**: `TRUE`，安装默认值为FALSE，修改后重启生效

### LARGE_POOL_SIZE 
**参数说明**: Large Pool 的大小，主要用于 SQL 文件、JSON 语法解析数的存放    
**取值范围**: [4M, 32T]，单位字节  
**默认值**: `32M`，安装默认值为1G，修改后重启生效

## 高可用与恢复

### REPLAY_PRELOAD_PROCESSES
**参数说明**: 数据库RECOVERY阶段，REDO 重演时页面预加载线程数，设置较大可以提高并发效率，但也会消耗较多资源，建议和LOG_REPLAY_PROCESSES设置相同值     
**取值范围**: [0, 128]  
**默认值**: `0`，不预读，修改后重启生效

### LOG_REPLAY_PROCESSES
**参数说明**: 数据库RECOVERY阶段，REDO 重演线程数，设置较大可以提高并发效率，但也会消耗较多资源      
**取值范围**: [1, 128]  
**默认值**: `1`，安装默认值为64，修改后重启生效

### _LOG_MAX_FILE_SIZE
**参数说明**: 单个日志文件最大大小，如果日志文件大小超过该参数配置，则可能删除较老的日志文件或者可能备份较老的日志到新文件   
**取值范围**: [1M, 4G]，单位字节  
**默认值**: `10M`

### _LOG_BACKUP_FILE_COUNT
**参数说明**: 备份日志文件的最大个数，超过会将最早备份的文件删除，维持在固定数量  
**取值范围**: [0, 128]  
- `等于0`：不开启日志文件备份。日志文件超过单个日志大小，则会被删除  
- `大于0`：开启日志备份，日志超过单个日志大小后，会被重命名为“旧日志文件名_当前时间戳.log”  

**默认值**: `10`

### RECYCLEBIN
**参数说明**: 是否开启回收站功能，开启回收站后才能使用FLASHBACK闪回功能    
**取值范围**: `FALSE`, `TRUE`  
**默认值**: `FALSE`，修改后重启生效

## 作业与调度

### JOB_THREADS
**参数说明**: 别名 JOB_QUEUE_PROCESSES，最大并发执行的任务数，超过并发数的JOB会等待并发任务数小于JOB_THREADS时执行  
**取值范围**: [0, 200]  
**默认值**: `100`

## 表结构与约束

### MAX_COLUMN_COUNT
**参数说明**: 表支持的最大列数，不支持减小  
**取值范围**：`1024`、`2048`、`3072`、`4096`  
**默认值**: `1024`，安装默认值为4096，修改后重启生效

### ENABLE_IDX_KEY_LEN_CHECK
**参数说明**: 是否在创建索引时检查索引长度
**取值范围**: 
- `TRUE`：创建索引时检查索引长度
- `FALSE`： 创建索引时不检查索引长度，插入数据库时检查长度

**默认值**: `TRUE`

## 实例与网络配置

### INSTANCE_NAME
**参数说明**: 数据库实例 名字，数据库安装完成后自动为每个实例设置实例名      
**取值范围**: 字符串，最大长度63字节  
**默认值**: `oGRAC`，修改后重启生效

### INSTANCE_ID
**参数说明**: 数据库实例 ID，集群内不允许重复       
**取值范围**: [0, 63]  
**默认值**: `0`，修改后重启生效

### LSNR_PORT
**参数说明**: 数据库监听的端口    
**取值范围**: [1024, 65535]  
**默认值**: `1611`，修改后重启生效

### LSNR_ADDR
**参数说明**: 数据库监听的地址或域名，多个地址逗号分割    
**取值范围**: 有效的 IP 地址或域名  
**默认值**: `127.0.0.1`，修改后重启生效

### INTERCONNECT_PORT
**参数说明**: 集群内通信服务(MES)监听的端口，多个端口逗号分割    
**取值范围**: [1024, 65535]  
**默认值**: `1611`，修改后重启生效

### INTERCONNECT_ADDR
**参数说明**: 集群内通信服务监听的地址或域名，同一个实例内监听多个地址逗号分割，多个实例实例间使用分号分割，例如：node0_ip1,node0_ip2;node1_ip1,node1_ip2    
**取值范围**: 有效的 IP 地址或域名  
**默认值**: `127.0.0.1`，修改后重启生效

### INTERCONNECT_TYPE
**参数说明**: 集群内通信协议类型（不允许通过 SQL 修改）  
**取值范围**:  
- `TCP`: TCP通信
- `UC`:  统一通信协议，节点内进程间使用共享内存，节点间使用TCP通信
- `UC_RDMA`:  统一通信协议，使用RDMA完成节点间通信  

**默认值**: `TCP`，安装默认值为UC

### INTERCONNECT_BY_PROFILE
**参数说明**: 集群内通信服务启动时是否建立连接    
**取值范围**: `FALSE`, `TRUE`  
**默认值**: `FALSE`，修改后重启生效

## 目录与路径

### LOG_HOME
**参数说明**: 数据库日志文件所在的根目录     
**取值范围**: 字符串，长度最大 163  
**默认值**: 数据目录/log，修改后重启生效

### SHARED_PATH
**参数说明**: 指定数据库数据存储方式, 安装时设置  
**取值范围**:
- `-`： 使用dbstor存储数据
- `+存储卷组名`：使用dss存储数据, 设置为dss存储卷组名，如+vg1
- `目录名`：本地目录存储   

**默认值**: `-`