GUC参数

### **_INDEX_BUFFER_SIZE**

**参数描述**  
用于存储索引热点页（当前主要指B树索引根节点页面）只读副本的全局缓存。该缓存旨在减少对高并发访问索引页的争用，从而提升系统并发性能。

**取值范围**

- 最小值：`16K` （16,384 字节）
  
- 最大值：`32T` （35,184,372,088,832 字节）
  
- 单位：字节
  

**默认值**  
`8M` （8,388,608 字节）

### **_PREFETCH_ROWS**

**参数描述**  
设置在数据检索过程中，系统提前预读取到缓存中的行数。

**取值范围**

- 整数
  
- 最小值：`1`
  
- 最大值：`2^32 - 1`
  

**默认值**  
`100`

### **CHECKPOINT_PERIOD**

**参数描述**  
设置系统执行两次checkpoint之间的最大时间间隔。当达到此预设的时间间隔时，将自动触发一次checkpoint。

**特性**

- **别名**：`CHECKPOINT_TIMEOUT`（不建议修改）。

**取值范围**

- 整数，单位：秒
  
- 最小值：`1` 
  
- 最大值：`2^32 - 1` 
  

**默认值**  
`300` 

### **CHECKPOINT_PAGES**

**参数描述**  
设定触发checkpoint的脏页数量阈值。当数据库缓冲区中的脏页数量达到此设定值时，将自动触发一次checkpoint。

**特性**

- **别名**：`CHECKPOINT_INTERVAL`（不建议修改）。

**取值范围**

- 整数，单位：页
  
- 最小值：`1` 
  
- 最大值：`2^32 - 1` 
  

**默认值**  
`100,000` 

### **REACTOR_THREADS**

**参数描述**  
设置用于处理I/O侦听的线程数量。这些线程负责接收并分发来自客户端的连接请求和网络数据包。

**配置建议**

- **推荐值**：`OPTIMIZED_WORKER_THREADS / 50`。
  
- **风险提示**：
  
  1. 设置过大会额外消耗CPU、内存及线程资源。在系统资源不足时，可能导致数据库运行异常。
    
  2. 设置值不允许大于Agent线程的总数。
    

**取值范围**  
[1, 10000]

**默认值**  
`1`

### **OPTIMIZED_WORKER_THREADS**

**参数描述**  
设置数据库最优工作线程的数量。此参数决定了系统在会话与线程之间是采用**绑定模式**还是**分离模式**。

**工作模式**

- 当会话数 > OPTIMIZED_WORKER_THREADS，系统切换为会话和线程分离模式，否则为绑定模式。
  

**与 MAX_WORKER_THREADS 的关系**

1. **启动时**：若配置文件中 `OPTIMIZED_WORKER_THREADS > MAX_WORKER_THREADS`，则自动将 `MAX_WORKER_THREADS` 调整为与本参数值相等。
  
2. **启动后**：
  
  - 可在线将其设置为小于或等于当前 `MAX_WORKER_THREADS`的任意值。
    
  - 若尝试设置为大于当前 `MAX_WORKER_THREADS` 的值，系统将报错。
    
3. **重启后**：`MAX_WORKER_THREADS` 将保持原值，不会因本参数的修改而改变。
  

**配置建议与约束**

- **最大值上限**：不建议超过 `SESSIONS` 参数的配置值，否则会造成线程资源闲置浪费。
  
- **资源消耗**：
  
  - 每个工作线程约占用 **0.5 M+** 的内存。
    
  - 设置过大会显著增加 CPU 和内存开销，在资源不足时可能导致数据库异常。
    
- **绝对上限**：因受安全函数内存限制（传入内存上限为2G），本参数最大值为 **10000**。
  

**取值范围**  
[2, 10000]

**默认值**  
`100`

### **MAX_WORKER_THREADS**

**参数描述**  
设置数据库工作线程池的最大容量。

**与 OPTIMIZED_WORKER_THREADS 的关系**

1. **数值关系**：本参数值**必须大于或等于** `OPTIMIZED_WORKER_THREADS`。若尝试将其设置为小于当前 `OPTIMIZED_WORKER_THREADS` 的值，系统将报错。
  
2. **线程扩展**：当活跃会话数超过 `OPTIMIZED_WORKER_THREADS` 时，工作线程数可以从最优值继续扩展，直到达到本参数设定的**最大值**。即可额外扩展的线程数为 `MAX_WORKER_THREADS - OPTIMIZED_WORKER_THREADS`。
  

**配置建议与约束**

- **最大值参考**：`OPTIMIZED_WORKER_THREADS` 不建议超过 `SESSIONS` 参数的配置值，否则会造成线程资源浪费。
  
- **资源消耗**：
  
  - 每个工作线程约占用 **0.5 M+** 的内存。
    
  - 设置过大会显著增加 CPU 和线程管理开销，在资源不足时可能导致数据库异常。
    
- **绝对上限**：受系统安全函数内存限制，本参数最大值为 **10000**。
  

**取值范围**  
[2, 10000]

**默认值**  
`100`

### **STATS_LEVEL**

**参数描述**  
控制是否收集并统计对表进行的DML（数据操作语言）操作信息。

**特性**

- **别名**：`STATISTICS_LEVEL`（不建议修改）。

**取值范围与行为**

| 取值  | 含义与行为 |
| --- | --- |
| **TYPICAL** 或 **ALL** | 启用表监控（Table-monitoring）。<br>• 系统将收集对表执行的DML操作的统计信息。<br>• 收集到的统计信息会在约 15分钟后展示在系统表 `SYS_DML_STATS`中。 |
| **BASIC** | 禁用Table-monitoring。<br>• 不收集上述DML操作统计信息。 |

**默认值**  
`TYPICAL`

### **BUF_POOL_NUM**

**参数描述**  
设置数据缓冲区（data buffer）的分区数量。

**取值范围**  
[0, 1024]

**默认值**  
`0`

**特殊说明**

- 当该参数**未配置**或**显式设置为 `0`** 时，系统会根据 `DATA_BUFFER_SIZE` 的实际值**自动计算并调整**一个合理的分区数。